#!/usr/bin/make -f
# -*- makefile -*-

DEBVENDOR  := $(shell dpkg-vendor --query Vendor)

ifeq ($(DEBVENDOR), Qlustar)
    # Qlustar specific stuff
    include /usr/share/ql-deb-utils/Makefile
endif

export PYBUILD_NAME = slurm

%:
	dh $@ --with python2,python3 --buildsystem=pybuild

override_dh_python2:
	python setup.py build \
	  --slurm-lib=/usr/lib/$(DEB_HOST_MULTIARCH) \
	  --slurm-inc=/usr/include
override_dh_python3:
	python3 setup.py build \
	  --slurm-lib=/usr/lib/$(DEB_HOST_MULTIARCH) \
	  --slurm-inc=/usr/include
